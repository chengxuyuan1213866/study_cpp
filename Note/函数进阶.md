## 函数进阶

### 内联函数

-  内联函数 使用关键字inline定义
- 对于规模较小，调用频繁的函数 ，可以将其声明为内联函数，提高程序执行效率
- 内联函数是在编译时将被调函数嵌入每一个函数调用处，节省了参数传递、控制转移等开销
-  内联函数的语法为
- inline 类型说明符 函数名(参数及类型表)
- 在定义内联函数时，通常时省去函数的声明，而是在声明位置直接给出函数的定义

```c++
#include <iostream>
using namespace std;

inline int add(int a, int b)        // 内联函数
{
    return a + b;
}
int main()
{
    int a,b,c;
    a = 10;
    b = 20;
    c = add(a,b);
    cout << "a" << "+" << "b" << "=" << c << endl;
    return 0;
}

```

内联函数在运行时，与普通函数的**结果一样**，但是在编译时将add函数嵌入相应位置，**减少了运行时的函数调用**，但内联函数的使用也会使编译后的**可执行程序变大**。

- 一般只有简单的函数才能成为内联函数
- 如果函数比较复杂，如含有循环，分支等结构，即使声明为内联函数，编译器也会将其当成普通函数对待。

### 函数重载

- 在C语言中因为系统是通过名字来区分各个函数的，所以不能有两个函数具有相同的名字。
- 在C++中**可以定义多个同名函数**，只要他们的**形参个数或类型不完全一样**就可以，编译程序根据**实参与形参的类型及个数自动确定调用**哪个同名函数，这就是**函数重载**

```c++
int max(int x,int y);
double max(double x, double y);
int main()
{
    int a = 2;
    int b = 3;
    double c = 6.0;
    double e = 4.0;
    int x = max(a,b);
    double y = max(c,e);
    cout << a << "和" << b << "的最大值是" << x << endl;
    cout << c << "和" << e << "的最大值是" << y << endl;

    return 0;
}
int max(int x, int y)
{
    if (x >= y)
        return x;
    else
        return y;
}
double max(double x,double y)
{
    if (x >= y)
        return x;
    else
        return y;
}

```

注意，在函数重载中，要避免二义性。

```c++
// 在上面的程序中不能出现以下有歧义的代码
int x = 1;
double y = 3.5;
max(x,y);  // 此代码就有二义性，要避免这种情况
```

![image-20230810091604896](https://s2.loli.net/2023/08/10/iBxAsyCcbt2T5Rp.png)
